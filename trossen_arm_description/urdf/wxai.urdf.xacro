<?xml version="1.0" encoding="utf-8"?>
<robot name="wxai" xmlns:xacro="http://ros.org/wiki/xacro">

  <xacro:property name="robot_model"
    value="wxai"
    scope="global"/>
  <xacro:property name="dof"
    value="6"
    scope="global"/>

  <xacro:arg name="variant"                         default="leader"/>      <!-- 'base', 'leader', 'follower' -->
  <xacro:arg name="arm_side"                        default="right"/>          <!-- '', 'left', 'right' -->
  <xacro:arg name="use_world_frame"                 default="false"/>     <!-- 'true', 'false' -->
  <xacro:arg name="base_link_frame"                 default="base_link"/>

  <xacro:property name="mesh_directory"             value="package://trossen_arm_description/meshes/${robot_model}"/>
  <xacro:property name="variant"                    value="$(arg variant)"/>
  <xacro:property name="arm_side"                   value="$(arg arm_side)"/>

  <xacro:if value="$(arg use_world_frame)">
    <link name="world"/>
    <joint name="fixed" type="fixed">
      <parent
        link="world"/>
      <child
        link="$(arg base_link_frame)"/>
    </joint>
  </xacro:if> <!-- use_world_frame -->

  <link name="base_link">
    <inertial>
      <origin
        xyz="-0.000375858292607297 -6.62873423389478E-05 0.027443162348488"
        rpy="0 0 0" />
      <mass value="0.224120283282237" />
      <inertia
        ixx="7.35860325213388E-05"
        ixy="-5.5802965495376E-09"
        ixz="-1.09197878999961E-07"
        iyy="7.09540647974691E-05"
        iyz="2.83345191694863E-08"
        izz="9.39810447747449E-05" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh filename="${mesh_directory}/base_link.stl" />
      </geometry>
      <material name="">
        <color rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh filename="${mesh_directory}/base_link.stl" />
      </geometry>
    </collision>
  </link>

  <link name="link_1">
    <inertial>
      <origin
        xyz="-0.000170717140750964 0.00142938385871949 0.0203939511450044"
        rpy="0 0 0" />
      <mass value="0.151686278211385" />
      <inertia
        ixx="4.52732090013247E-05"
        ixy="4.99255832155973E-09"
        ixz="-5.2271534852903E-06"
        iyy="3.79248659067107E-05"
        iyz="1.71098662427643E-09"
        izz="5.47838409636401E-05" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh filename="${mesh_directory}/link_1.stl" />
      </geometry>
      <material name="">
        <color rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh filename="${mesh_directory}/link_1.stl" />
      </geometry>
    </collision>
  </link>

  <joint name="joint_0" type="revolute">
    <origin
      xyz="0 0 0.05725"
      rpy="0 0 0" />
    <parent link="base_link" />
    <child link="link_1" />
    <axis xyz="0 0 1" />
    <limit
      lower="-${pi}"
      upper="${pi}"
      effort="0"
      velocity="0" />
  </joint>

  <link name="link_2">
    <inertial>
      <origin
        xyz="-0.130142256375337 -0.00167447142265246 0.000487627804054119"
        rpy="0 0 0" />
      <mass value="0.611815573610387" />
      <inertia
        ixx="0.000149806763097241"
        ixy="-1.7277870445282E-10"
        ixz="-3.38000453750262E-06"
        iyy="0.00148729384708183"
        iyz="2.31625560454475E-08"
        izz="0.00144707829438896" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh filename="${mesh_directory}/link_2.stl" />
      </geometry>
      <material name="">
        <color rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh filename="${mesh_directory}/link_2.stl" />
      </geometry>
    </collision>
  </link>

  <joint name="joint_1" type="revolute">
    <origin
      xyz="0.02 0 0.04625"
      rpy="0 0 0" />
    <parent link="link_1" />
    <child link="link_2" />
    <axis xyz="0 1 0" />
    <limit
      lower="-${pi}"
      upper="${pi}"
      effort="0"
      velocity="0" />
  </joint>

  <link name="link_3">
    <inertial>
      <origin
        xyz="0.14889637986769 -0.000482795993009637 0.0533160727860036"
        rpy="0 0 0" />
      <mass value="0.45269268333465" />
      <inertia
        ixx="0.000110975389841977"
        ixy="-3.48101737443353E-09"
        ixz="-3.07200929071728E-05"
        iyy="0.000944180462979155"
        iyz="6.93614969714099E-09"
        izz="0.000877582982943938" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh filename="${mesh_directory}/link_3.stl" />
      </geometry>
      <material name="">
        <color rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh filename="${mesh_directory}/link_3.stl" />
      </geometry>
    </collision>
  </link>

  <joint name="joint_2" type="revolute">
    <origin
      xyz="-0.264 0 0"
      rpy="0 0 0" />
    <parent link="link_2" />
    <child link="link_3" />
    <axis xyz="0 -1 0" />
    <limit
      lower="-${pi}"
      upper="${pi}"
      effort="0"
      velocity="0" />
  </joint>

  <link name="link_4">
    <inertial>
      <origin
        xyz="0.0499341120147654 0.000395925820699807 0.0525216081324763"
        rpy="0 0 0" />
      <mass value="0.255634517902238" />
      <inertia
        ixx="7.18320568805194E-05"
        ixy="-1.13712805364293E-07"
        ixz="-1.49801775716733E-05"
        iyy="8.7280888805767E-05"
        iyz="-2.74366918637329E-07"
        izz="9.61155608615174E-05" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh filename="${mesh_directory}/link_4.stl" />
      </geometry>
      <material name="">
        <color rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh filename="${mesh_directory}/link_4.stl" />
      </geometry>
    </collision>
  </link>

  <joint name="joint_3" type="revolute">
    <origin
      xyz="0.245 0 0.06"
      rpy="0 0 0" />
    <parent link="link_3" />
    <child link="link_4" />
    <axis xyz="0 -1 0" />
    <limit
      lower="-${pi}"
      upper="${pi}"
      effort="0"
      velocity="0" />
  </joint>

  <link name="link_5">
    <inertial>
      <origin
        xyz="0.00680868461848289 -4.42257423186533E-05 -0.042030267777268"
        rpy="0 0 0" />
      <mass value="0.231616135893126" />
      <inertia
        ixx="9.30059780887729E-05"
        ixy="1.16427390931954E-08"
        ixz="-5.56110087932421E-06"
        iyy="7.3529063908031E-05"
        iyz="2.17229329063081E-08"
        izz="5.71912870238262E-05" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh filename="${mesh_directory}/link_5.stl" />
      </geometry>
      <material name="">
        <color rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh filename="${mesh_directory}/link_5.stl" />
      </geometry>
    </collision>
  </link>

  <joint name="joint_4" type="revolute">
    <origin
      xyz="0.06775 0 0.0455"
      rpy="0 0 0" />
    <parent link="link_4" />
    <child link="link_5" />
    <axis xyz="0 0 -1" />
    <limit
      lower="-${pi}"
      upper="${pi}"
      effort="0"
      velocity="0" />
  </joint>

  <link name="link_6">
    <inertial>
      <origin
        xyz="0.0454447042226515 -3.3312119305551E-05 6.37079439202992E-09"
        rpy="0 0 0" />
      <mass value="0.303721927830436" />
      <inertia
        ixx="0.000265546503707589"
        ixy="1.20149414530992E-08"
        ixz="-1.90562961519435E-12"
        iyy="7.41145702777998E-05"
        iyz="2.20581201587785E-08"
        izz="0.000225092515447716" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh filename="${mesh_directory}/link_6.stl" />
      </geometry>
      <material name="">
        <color rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh filename="${mesh_directory}/link_6.stl" />
      </geometry>
    </collision>
  </link>

  <joint name="joint_5" type="revolute">
    <origin
      xyz="0.04095 0 -0.0455"
      rpy="0 0 0" />
    <parent link="link_5" />
    <child link="link_6" />
    <axis xyz="1 0 0" />
    <limit
      lower="-${pi}"
      upper="${pi}"
      effort="0"
      velocity="0" />
  </joint>

  <link name="carriage_right">
    <inertial>
      <origin
        xyz="-0.0088960216342942 0.00403514361427389 0.00457900737971173"
        rpy="0 0 0" />
      <mass value="0.0503630726101797" />
      <inertia
        ixx="1.05737957274845E-05"
        ixy="1.46136484807991E-12"
        ixz="3.60942349147469E-07"
        iyy="3.3903119527156E-06"
        iyz="3.14222250821931E-07"
        izz="8.00539230293977E-06" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh filename="${mesh_directory}/carriage_right.stl" />
      </geometry>
      <material name="">
        <color rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh filename="${mesh_directory}/carriage_right.stl" />
      </geometry>
    </collision>
  </link>

  <link name="carriage_left">
    <inertial>
      <origin
        xyz="-0.00889602163429412 -0.00403515225638459 -0.00457907970794055"
        rpy="0 0 0" />
      <mass value="0.0503630726101796" />
      <inertia
        ixx="1.05737957274845E-05"
        ixy="1.46136486428222E-12"
        ixz="-3.60957599947593E-07"
        iyy="3.39031195271559E-06"
        iyz="3.1422225082193E-07"
        izz="8.00539230293976E-06" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh filename="${mesh_directory}/carriage_left.stl" />
      </geometry>
      <material name="">
        <color rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh filename="${mesh_directory}/carriage_left.stl" />
      </geometry>
    </collision>
  </link>

  <joint name="left_carriage_joint" type="prismatic">
    <origin
      xyz="0.0745 0.023 0"
      rpy="0 0 0" />
    <parent link="link_6" />
    <child link="carriage_left" />
    <axis xyz="0 1 0" />
    <limit
      lower="0"
      upper="0"
      effort="0"
      velocity="0" />
  </joint>

  <joint name="right_carriage_joint" type="prismatic">
    <origin
      xyz="0.0745 -0.023 0"
      rpy="0 0 0" />
    <parent link="link_6" />
    <child link="carriage_right" />
    <axis xyz="0 -1 0" />
    <limit
      lower="0"
      upper="0"
      effort="0"
      velocity="0" />
  </joint>

  <xacro:if value="${variant == 'follower'}">

    <link name="camera_mount">
      <inertial>
        <origin
          xyz="0.0296855854757168 0.00562972530248117 0.0471179075194367"
          rpy="0 0 0" />
        <mass value="0.0570755527903207" />
        <inertia
          ixx="2.20585029321409E-05"
          ixy="7.68318500907665E-09"
          ixz="-2.39739582889547E-06"
          iyy="1.44836957156197E-05"
          iyz="-2.0916223960996E-07"
          izz="1.77235645161334E-05" />
      </inertial>
      <visual>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh filename="${mesh_directory}/camera_mount.stl" />
        </geometry>
        <material name="">
          <color rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
        </material>
      </visual>
      <collision>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh filename="${mesh_directory}/camera_mount.stl" />
        </geometry>
      </collision>
    </link>

    <joint name="camera_mount_joint" type="fixed">
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <parent link="link_6" />
      <child link="camera_mount" />
      <axis xyz="0 0 0" />
    </joint>

  </xacro:if> <!-- variant == 'follower' -->

  <xacro:if value="${variant == 'leader'}">

    <xacro:if value="${arm_side == 'left'}">

      <link name="handle">
        <inertial>
          <origin
            xyz="0.0203255017535234 -0.00738697181677922 -0.081111420473222"
            rpy="0 0 0" />
          <mass value="0.112693736705508" />
          <inertia
            ixx="0.000140625909869966"
            ixy="-1.66988366454825E-07"
            ixz="-1.11400669390463E-05"
            iyy="0.000144172777491847"
            iyz="-6.02779619964089E-06"
            izz="1.67088155618759E-05" />
        </inertial>
        <visual>
          <origin
            xyz="0 0 0"
            rpy="0 0 0" />
          <geometry>
            <mesh filename="${mesh_directory}/handle_left.stl" />
          </geometry>
          <material name="">
            <color rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
          </material>
        </visual>
        <collision>
          <origin
            xyz="0 0 0"
            rpy="0 0 0" />
          <geometry>
            <mesh filename="${mesh_directory}/handle_left.stl" />
          </geometry>
        </collision>
      </link>

      <joint name="handle_joint" type="fixed">
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <parent link="link_6" />
        <child link="handle" />
        <axis xyz="0 0 0" />
      </joint>

      <link name="leader_finger_left_index">
        <inertial>
          <origin
            xyz="0.00470472514618581 0.0029289423469383 -0.0226793519809421"
            rpy="0 0 0" />
          <mass value="0.0334482861211268" />
          <inertia
            ixx="2.15521651819975E-05"
            ixy="3.63797547113716E-07"
            ixz="-1.57596838501154E-06"
            iyy="2.02414918164589E-05"
            iyz="2.57763866887699E-06"
            izz="3.61328619227492E-06" />
        </inertial>
        <visual>
          <origin
            xyz="0 0 0"
            rpy="0 0 0" />
          <geometry>
            <mesh filename="${mesh_directory}/leader_finger_left_index.stl" />
          </geometry>
          <material name="">
            <color rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
          </material>
        </visual>
        <collision>
          <origin
            xyz="0 0 0"
            rpy="0 0 0" />
          <geometry>
            <mesh filename="${mesh_directory}/leader_finger_left_index.stl" />
          </geometry>
        </collision>
      </link>

      <joint name="left_index_joint" type="fixed">
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <parent link="carriage_left" />
        <child link="leader_finger_left_index" />
        <axis xyz="0 0 0" />
      </joint>

      <link name="leader_finger_left_thumb">
        <inertial>
          <origin
            xyz="-0.00139067941257306 -0.00434572084089531 -0.0280809769238789"
            rpy="0 0 0" />
          <mass value="0.0226399376873522" />
          <inertia
            ixx="1.42933439011286E-05"
            ixy="-4.47593635440579E-07"
            ixz="-1.96106301547004E-06"
            iyy="1.34809958328991E-05"
            iyz="-1.88526807848634E-06"
            izz="3.04977204952407E-06" />
        </inertial>
        <visual>
          <origin
            xyz="0 0 0"
            rpy="0 0 0" />
          <geometry>
            <mesh filename="${mesh_directory}/leader_finger_left_thumb.stl" />
          </geometry>
          <material name="">
            <color rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
          </material>
        </visual>
        <collision>
          <origin
            xyz="0 0 0"
            rpy="0 0 0" />
          <geometry>
            <mesh filename="${mesh_directory}/leader_finger_left_thumb.stl" />
          </geometry>
        </collision>
      </link>

      <joint name="left_thumb_joint" type="fixed">
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <parent link="carriage_right" />
        <child link="leader_finger_left_thumb" />
        <axis xyz="0 0 0" />
      </joint>

    </xacro:if> <!-- arm_side == 'left' -->

    <xacro:if value="${arm_side == 'right'}">

      <link name="handle">
        <inertial>
          <origin
            xyz="0.0203252458247983 0.0073869167553635 -0.0811185578133218"
            rpy="0 0 0" />
          <mass value="0.112678919461615" />
          <inertia
            ixx="0.000140599973264611"
            ixy="1.67103682894012E-07"
            ixz="-1.11380433253412E-05"
            iyy="0.000144145877651198"
            iyz="6.02862678704906E-06"
            izz="1.67093313716455E-05" />
        </inertial>
        <visual>
          <origin
            xyz="0 0 0"
            rpy="0 0 0" />
          <geometry>
            <mesh filename="${mesh_directory}/handle_right.stl" />
          </geometry>
          <material name="">
            <color rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
          </material>
        </visual>
        <collision>
          <origin
            xyz="0 0 0"
            rpy="0 0 0" />
          <geometry>
            <mesh filename="${mesh_directory}/handle_right.stl" />
          </geometry>
        </collision>
      </link>

      <joint name="handle_joint" type="fixed">
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <parent link="link_6" />
        <child link="handle" />
        <axis xyz="0 0 0" />
      </joint>

      <link name="leader_finger_right_thumb">
        <inertial>
          <origin
            xyz="-0.00139125804767926 0.00434423906746726 -0.0280833807733366"
            rpy="0 0 0" />
          <mass value="0.02263239368872" />
          <inertia
            ixx="1.4290610073001E-05"
            ixy="4.47591482497247E-07"
            ixz="-1.96065931243553E-06"
            iyy="1.34803332199727E-05"
            iyz="1.88505973329342E-06"
            izz="3.04768339969034E-06" />
        </inertial>
        <visual>
          <origin
            xyz="0 0 0"
            rpy="0 0 0" />
          <geometry>
            <mesh filename="${mesh_directory}/leader_finger_right_thumb.stl" />
          </geometry>
          <material name="">
            <color rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
          </material>
        </visual>
        <collision>
          <origin
            xyz="0 0 0"
            rpy="0 0 0" />
          <geometry>
            <mesh filename="${mesh_directory}/leader_finger_right_thumb.stl" />
          </geometry>
        </collision>
      </link>

      <joint name="right_thumb_joint" type="fixed">
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <parent link="carriage_left" />
        <child link="leader_finger_right_thumb" />
        <axis xyz="0 0 0" />
      </joint>

      <link name="leader_finger_right_index">
        <inertial>
          <origin
            xyz="0.00470571265625336 -0.0029303338205246 -0.0226797825244652"
            rpy="0 0 0" />
          <mass value="0.033440788167196" />
          <inertia
            ixx="2.15524335431287E-05"
            ixy="-3.63973749098751E-07"
            ixz="-1.57635074161868E-06"
            iyy="2.02401286199949E-05"
            iyz="-2.57756762041802E-06"
            izz="3.61453863771449E-06" />
        </inertial>
        <visual>
          <origin
            xyz="0 0 0"
            rpy="0 0 0" />
          <geometry>
            <mesh filename="${mesh_directory}/leader_finger_right_index.stl" />
          </geometry>
          <material name="">
            <color rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
          </material>
        </visual>
        <collision>
          <origin
            xyz="0 0 0"
            rpy="0 0 0" />
          <geometry>
            <mesh filename="${mesh_directory}/leader_finger_right_index.stl" />
          </geometry>
        </collision>
      </link>

      <joint name="right_index_joint" type="fixed">
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <parent link="carriage_right" />
        <child link="leader_finger_right_index" />
        <axis xyz="0 0 0" />
      </joint>

    </xacro:if> <!-- leader_polarity == 'right' -->

  </xacro:if> <!-- variant == 'leader' -->

  <xacro:if value="${variant in ('base', 'follower')}">

    <link name="gripper_left">
      <inertial>
        <origin
          xyz="0.0188673477391189 -0.00900068987997303 -0.00215891070969232"
          rpy="0 0 0" />
        <mass value="0.0316597159310581" />
        <inertia
          ixx="6.8727778392819E-06"
          ixy="1.85875818408777E-06"
          ixz="2.10469017580141E-07"
          iyy="1.15019376101305E-05"
          iyz="-1.42577971631089E-07"
          izz="7.84951081816666E-06" />
      </inertial>
      <visual>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh filename="${mesh_directory}/gripper_left.stl" />
        </geometry>
        <material name="">
          <color rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
        </material>
      </visual>
      <collision>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh filename="${mesh_directory}/gripper_left.stl" />
        </geometry>
      </collision>
    </link>

    <joint name="left_gripper_joint" type="fixed">
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <parent link="carriage_left" />
      <child link="gripper_left" />
      <axis xyz="0 0 0" />
    </joint>

    <link name="gripper_right">
      <inertial>
        <origin
          xyz="0.0188673150206433 0.00900062850131636 -0.00215899211667148"
          rpy="0 0 0" />
        <mass value="0.0316596868689633" />
        <inertia
          ixx="6.87278548212943E-06"
          ixy="-1.85876231020021E-06"
          ixz="2.10468320130317E-07"
          iyy="1.15019142390085E-05"
          iyz="1.42584910055048E-07"
          izz="7.8494939350329E-06" />
      </inertial>
      <visual>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh filename="${mesh_directory}/gripper_right.stl" />
        </geometry>
        <material name="">
          <color rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
        </material>
      </visual>
      <collision>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh filename="${mesh_directory}/gripper_right.stl" />
        </geometry>
      </collision>
    </link>

    <joint name="right_gripper_joint" type="fixed">
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <parent link="carriage_right" />
      <child link="gripper_right" />
      <axis xyz="0 0 0" />
    </joint>

  </xacro:if> <!-- variant in ('base', 'follower') -->

</robot>
